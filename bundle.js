/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={451:function(e){var t;t=function(){return function(){var e={686:function(e,t,n){"use strict";n.d(t,{default:function(){return N}});var a=n(279),r=n.n(a),i=n(370),o=n.n(i),s=n(817),c=n.n(s);function u(e){try{return document.execCommand(e)}catch(e){return!1}}var l=function(e){var t=c()(e);return u("cut"),t},d=function(e,t){var n=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(a,"px"),n.setAttribute("readonly",""),n.value=e,n}(e);t.container.appendChild(n);var a=c()(n);return u("copy"),n.remove(),a},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof e?n=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?n=d(e.value,t):(n=c()(e),u("copy")),n};function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function v(e,t){var n="data-clipboard-".concat(e);if(t.hasAttribute(n))return t.getAttribute(n)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,a,r,i,s=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t,n=b(r);if(i){var a=b(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return!(t=e)||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this):t});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=s.call(this)).resolveOptions(t),n.listenClick(e),n}return t=c,n=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===m(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=o()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,n=this.action(t)||"copy",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=void 0===t?"copy":t,a=e.container,r=e.target,i=e.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==r){if(!r||"object"!==h(r)||1!==r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?p(i,{container:a}):r?"cut"===n?l(r):p(r,{container:a}):void 0}({action:n,container:this.container,target:this.target(t),text:this.text(t)});this.emit(a?"success":"error",{action:n,text:a,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return v("action",e)}},{key:"defaultTarget",value:function(e){var t=v("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return v("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],a=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return p(e,t)}},{key:"cut",value:function(e){return l(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}],n&&g(t.prototype,n),a&&g(t,a),c}(r()),N=y},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,n){var a=n(828);function r(e,t,n,a,r){var o=i.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}function i(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}e.exports=function(e,t,n,a,i){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,n,a,i)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,n){var a=n(879),r=n(438);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(a.string(e))return function(e,t,n){return r(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),r=document.createRange();r.selectNodeContents(e),a.removeAllRanges(),a.addRange(r),t=a.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var a=this;function r(){a.off(e,r),t.apply(n,arguments)}return r._=t,this.on(e,r,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=n.length;a<r;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],r=[];if(a&&t)for(var i=0,o=a.length;i<o;i++)a[i].fn!==t&&a[i].fn._!==t&&r.push(a[i]);return r.length?n[e]=r:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(686)}().default},e.exports=t()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&!e;)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";const e=function(e){const t=document.createElement(`${e.tagName}`);return e.className&&t.classList.add(`${e.className}`),e.text&&(t.innerHTML=`${e.text}`),t},t=class{constructor(e,t){this._container=document.createElement(e),t&&(this._container.className=t)}render(){return this._container}};class a extends t{constructor(t){super("div","popup-container"),this.content=t,this.closeBtn=e({tagName:"button",className:"popup-close-btn"}),a.elem=Object.assign(this)}remove(){this._container.style.opacity=0,setTimeout((()=>{this._container.remove()}),200)}_createPopup(){this.closeBtn.classList.add("popup-close-black-btn"),this.closeBtn.onclick=()=>this.remove(),this._container.style.opacity=0,this._container.append(this.content),this._container.append(this.closeBtn),this.content.onclick=e=>e.stopPropagation(),this._container.onclick=()=>this.remove(),setTimeout((()=>{this._container.style="";const e=this.content.offsetLeft+this.content.offsetWidth-this.closeBtn.offsetWidth-15,t=this.content.offsetTop+15;this.closeBtn.style.left=`${e}px`,this.closeBtn.style.top=`${t}px`}),100)}render(){return this._createPopup(),this._container}}a.run=(e,t)=>{setTimeout((()=>{"white"===t&&(a.elem.closeBtn.classList.remove("popup-close-black-btn"),a.elem.closeBtn.classList.add("popup-close-white-btn"))})),document.body.append(new a(e).render())};const r=a,i=class extends t{constructor(t,n,a,r){super("div","custom-input-container"),this.headline=e({tagName:"h4",className:"custom-input-headline",text:t}),this.input=e({tagName:"input",className:"custom-input"}),this.input.classList.add("invalid-custom-input"),this.input.type=n,this.input.oninput=a,this.input.required=!0,r&&this.input.setAttribute("minlength",`${r}`)}_createElem(){this._container.append(this.headline),this._container.append(this.input)}render(){return this._createElem(),this._container}},o=e=>{const t=new Image;return t.src=e,t.alt="img",t},s=n.p+"./assets/img/icon_profile.svg",c=class{constructor(t={}){this.firstName=t.firstName,this.lastName=t.lastName,this.password=t.password,this.email=t.email,this.visits=1,this.books=t.books||[],this.card=t.card||null,this.cardNumber=t.cardNumber||null,this.icon=t.firstName?e({tagName:"div",className:"user-initials-btn",text:`${t.firstName[0]}${t.lastName[0]}`}):o(s)}};let u=new Map;if(localStorage.getItem("library/users")){const e=JSON.parse(localStorage.getItem("library/users"));u=new Map(Object.entries(e))}const l=u,d=()=>{localStorage.setItem("library/users",JSON.stringify(Object.fromEntries(l.entries())))},p=n.p+"./assets/img/instagram.svg",h=n.p+"./assets/img/facebook.svg",m=n.p+"./assets/img/twitter.svg";class g extends t{constructor(){super("footer"),g.elem=Object.assign(this)}_createFooter(){const t=e({tagName:"div",className:"footer-container"}),n=e({tagName:"div",className:"socialLink-container_footer"}),a=e({tagName:"div",className:"info-container_footer"}),r=e({tagName:"div",className:"contact-container_footer"}),i=e({tagName:"p",text:"286 Cadman Plaza, New York,<br> NY 11238, United States"}),o=e({tagName:"a"});o.append(i),o.href="https://goo.gl/maps/URNfE9LFHjwYspUSA";const s=e({tagName:"div",className:"work-time-container_footer"});s.insertAdjacentHTML("beforeend","\n      <p>\n        Mon - Fri\n        <br>\n        08:00 am - 07:00 pm\n      </p>\n      <p>\n        Sat - Sun\n        <br>\n        10:00 am - 06:00 pm\n      </p>\n    "),[[m,"twitter"],[p,"instagram"],[h,"facebook"]].forEach((t=>{const[a,r]=t,i=e({tagName:"a"});i.href=`https://www.${r}.com`;const o=new Image;o.src=a,o.alt="social img",i.append(o),n.append(i)})),r.append(o),r.append(n),a.append(r),a.append(s);const c=e({tagName:"div",className:"footer-line"}),u=e({tagName:"div",className:"username-container"});u.insertAdjacentHTML("beforeend",`\n      <p>2023</p>\n      <a href="https://rs.school/js-stage0/ ">\n        <p>The Rolling Scopes School</p>\n      </a>\n      <a href="https://github.com/yauhenibelski">\n        <p>\n        ${le.user.firstName?`${le.user.firstName} ${le.user.lastName}`:"Yauheni Belski"}\n        </p>\n      </a>\n    `),t.append(a),t.append(c),t.append(u),this._container.append(t)}render(){return this._container.innerHTML="",this._createFooter(),this._container}}const f=g,b=class extends t{constructor(t){super("div","headline-wrapper");const n=e({tagName:"h2",text:t}),a=e({tagName:"div",className:"line"});this._container.append(n),this._container.append(a)}},v=n.p+"./assets/img/image_1.png",y=n.p+"./assets/img/image_2.png",N=n.p+"./assets/img/image_3.png",w=n.p+"./assets/img/image_4.png",_=n.p+"./assets/img/image_5.png",x=(e,t,n)=>{const a=n.parentElement,r=t.children[e].offsetWidth,i=parseInt(window.getComputedStyle(t.children[e]).marginRight,10),o=window.innerWidth>1024?e-1:e;t.style.cssText=`\n      transform: translateX(-${(i+r)*o}px);\n    `,Array.from(a.children).forEach((e=>e.classList.remove("active"))),n.classList.add("active"),L.currentSlideNum=e};class k extends t{constructor(){super("section","about"),this._container.id="about",k.elem=Object.assign(this)}imgs=[v,y,N,w,_].map((e=>o(e)));_createSection(){const t=e({tagName:"p",text:"The Brooklyn Library is a free workspace, a large number of books and a cozy coffee shop inside"}),n=e({tagName:"div",className:"img-wrapper"}),a=e({tagName:"button",className:"leftBtn"}),r=e({tagName:"button",className:"rightBtn"}),i=e({tagName:"div",className:"carousel-container"}),o=e({tagName:"div",className:"carousel-container-wrapper"}),s=e({tagName:"div",className:"carousel-pagination-wrapper"}),c=this.imgs.map(((t,a)=>{const r=e({tagName:"div",className:"range"});return r.onclick=()=>{x(a,n,r)},r}));this.imgs.forEach(((e,t)=>{n.append(e),c[k.currentSlideNum].classList.toggle("active"),s.append(c[t])})),this._container.append(new b("About").render()),this._container.append(t),i.append(n),o.append(a),o.append(i),o.append(r),this._container.append(o),this._container.append(s),a.onclick=()=>{const e=k.currentSlideNum-1;(e>=0&&window.innerWidth<1024||e>0)&&x(e,n,c[e])},r.onclick=()=>{const e=k.currentSlideNum+1;(e<=this.imgs.length-1&&window.innerWidth<1024||e<this.imgs.length-1)&&x(e,n,c[e])}}render(){return k.currentSlideNum=window.innerWidth>1024?1:0,this._container.innerHTML="",this._createSection(),window.onresize=e=>{const t=e.currentTarget.innerWidth;setTimeout((()=>{t===window.innerWidth&&this.render()}),100)},this._container}}const L=k,T=class extends t{constructor(){super("section","welcome")}_createSection(){const t=e({tagName:"div",className:"text-wrapper"});t.insertAdjacentHTML("beforeend","\n      <p>Welcome</p>\n      <br>\n      <p>to the Brooklyn</p>\n      <br>\n      <p>Library</p>\n    "),this._container.append(t)}render(){return this._createSection(),this._container}},S=[{id:1,name:"The Book Eaters",author:"Sunyi Dean",description:"An unusual sci-fi story about a book eater woman who tries desperately to save her dangerous mind-eater son from tradition and certain death. Complete with dysfunctional family values, light Sapphic romance, and a strong, complex protagonist. Not for the faint of heart.       ",src:n.p+"./assets/img/TheBookEatersBySunyiDean.png",value:"winter",price:25.99},{id:2,name:"Cackle",author:"Rachel Harrison",description:"Are your Halloween movies of choice The Witches of Eastwick and Practical Magic? Look no further than here - where a woman recovering from a breakup moves to a quaint town in upstate New York and befriends a beautiful witch.",src:n.p+"./assets/img/CackleByRachelHarrison.png",value:"winter",price:37.34},{id:3,name:"Dante: Poet of the Secular World",author:"Erich Auerbach",description:"Auerbach's engaging book places the 'Comedy' within the tradition of epic, tragedy, and philosophy in general, arguing for Dante's uniqueness as one who raised the individual and his drama of soul into something of divine significance—an inspired introduction to Dante's main themes.",src:n.p+"./assets/img/Dante-PoetoftheSecularWorldByErichAuerbach.png",value:"winter",price:16.99},{id:4,name:"The Last Queen",author:"Clive Irving",description:"A timely and revelatory new biography of Queen Elizabeth (and her family) exploring how the Windsors have evolved and thrived as the modern world has changed around them.",src:n.p+"./assets/img/TheLastQueenByCliveIrving.png",value:"winter",price:31.42},{id:5,name:"The Body",author:"Stephen King",description:"Powerful novel that takes you back to a nostalgic time, exploring both the beauty and danger and loss of innocence that is youth.",src:n.p+"./assets/img/The_Body.png",value:"spring",price:38.51},{id:6,name:"Carry: A Memoir of Survival on Stolen",author:"Toni Jenson",description:"This memoir about the author's relationship with gun violence feels both expansive and intimate, resulting in a lyrical indictment of the way things are.",src:n.p+"./assets/img/Carry.png",value:"spring",price:11.75},{id:7,name:"Days of Distraction",author:"Alexandra Chang",description:"A sardonic view of Silicon Valley culture, a meditation on race, and a journal of displacement and belonging, all in one form-defying package of spare prose.",src:n.p+"./assets/img/DaysofDistraction.png",value:"spring",price:28.19},{id:8,name:"Dominicana",author:"Angie Cruz",description:"A fascinating story of a teenage girl who marries a man twice her age with the promise to bring her to America. Her marriage is an opportunity for her family to eventually immigrate. For fans of Isabel Allende and Julia Alvarez.",src:n.p+"./assets/img/Dominicana.png",value:"spring",price:23.12},{id:9,name:"Crude: A Memoir",author:"Pablo Fajardo & ​​Sophie Tardy-Joubert",description:"Drawing and color by Damien Roudeau | This book illustrates the struggles of a group of indigenous Ecuadoreans as they try to sue the ChevronTexaco company for damage their oil fields did to the Amazon and her people.",src:n.p+"./assets/img/Crude.png",value:"summer",price:24.99},{id:10,name:"Let My People Go Surfing",author:"Yvon Chouinard",description:"Chouinard—climber, businessman, environmentalist—shares tales of courage and persistence from his experience of founding and leading Patagonia, Inc. Full title: Let My People Go Surfing: The Education of a Reluctant Businessman, Including 10 More Years of Business Unusual.",src:n.p+"./assets/img/LetMyPeople.png",value:"summer",price:27.75},{id:11,name:"The Octopus Museum: Poems",author:"Brenda Shaughnessy",description:"This collection of bold and scathingly beautiful feminist poems imagines what comes after our current age of environmental destruction, racism, sexism, and divisive politics.",src:n.p+"./assets/img/TheOctopusMuseum.png",value:"summer",price:35.55},{id:12,name:"Shark Dialogues: A Novel",author:"Kiana Davenport",description:"An epic saga of seven generations of one family encompasses the tumultuous history of Hawaii as a Hawaiian woman gathers her four granddaughters together in an erotic tale of villains and dreamers, queens and revolutionaries, lepers and healers.",src:n.p+"./assets/img/SharkDialogues.png",value:"summer",price:19.99},{id:13,name:"Casual Conversation",author:"Renia White",description:"White's impressive debut collection takes readers through and beyond the concepts of conversation and the casual - both what we say to each other and what we don't, examining the possibilities around how we construct and communicate identity.",src:n.p+"./assets/img/Casual.png",value:"autumn",price:28.78},{id:14,name:"The Great Fire",author:"Lou Ureneck",description:"The harrowing story of an ordinary American and a principled Naval officer who, horrified by the burning of Smyrna, led an extraordinary rescue effort that saved a quarter of a million refugees from the Armenian Genocide.",src:n.p+"./assets/img/TheGreatFire.png",value:"autumn",price:23.85},{id:15,name:"Rickey: The Life and Legend",author:"Howard Bryant",description:"With the fall rolling around, one can't help but think of baseball's postseason coming up! And what better way to prepare for it than reading the biography of one of the game's all-time greatest performers, the Man of Steal, Rickey Henderson?",src:n.p+"./assets/img/Rickey.png",value:"autumn",price:15.9},{id:16,name:"Slug: And Other Stories",author:"Megan Milks",description:"An epic saga of seven generations of one family encompasses the tumultuous history of Hawaii as a Hawaiian woman gathers her four granddaughters together in an erotic tale of villains and dreamers, queens and revolutionaries, lepers and healers.",src:n.p+"./assets/img/Slug.png",value:"autumn",price:33.22}],C=class extends i{constructor(e,t,n,a,r){super(e,t,n),this.prop={secondaryInputType:a,secondaryInputOninput:r}}_createSecondaryInput(){this._container.classList.add("double-input");const t=e({tagName:"input",className:"custom-input"});return t.type=this.prop.secondaryInputType,t.oninput=this.prop.secondaryInputOninput,t.required=!0,this._container.append(t),this._container}render(){return this._createElem(),this._createSecondaryInput(),this._container}},B=(e,t)=>{e.target.validity.valid&&t()?e.target.classList.remove("invalid-custom-input"):e.target.classList.add("invalid-custom-input")},E=n.p+"./assets/img/visits.svg",A=n.p+"./assets/img/bonus.svg",O=n.p+"./assets/img/book.svg",M=class extends t{constructor(e,t,n){super("div","user-info-wrap"),this.text=e,this.img=o(t),this.value=n}_create(){const t=e({tagName:"p",className:"user-info-text",text:this.text}),n=e({tagName:"p",className:"user-info-text",text:this.value});this._container.append(t),this._container.append(this.img),this._container.append(n)}render(){return this._create(),this._container}},P=class extends t{constructor(e){super("div","user-info-container"),this.currentUser=l.get(e)}_createElement(){const t=e({tagName:"div",className:"visit-block"}),n=e({tagName:"div",className:"bonuses-block"}),a=e({tagName:"div",className:"books-block"});t.append(new M("Visits",E,this.currentUser.visits).render()),n.append(new M("Bonuses",A,1240).render()),a.append(new M("Books",O,`${this.currentUser.books.length}`).render()),this._container.append(t),this._container.append(n),this._container.append(a)}render(){return this._createElement(),this._container}};class j extends t{constructor(){super("div","findLibraryCard-wrapper"),j.elem=Object.assign(this),j.inputValue={firstName:"",cardNumber:""},j.showInfo=!1}_createComponent(){const t=e({tagName:"h3",text:"Brooklyn Public Library"}),n=e({tagName:"div",className:"findLibraryCard-container"}),a=e({tagName:"input",className:"findLibraryCard-name"}),r=e({tagName:"input",className:"findLibraryCard-num"}),i=e({tagName:"button",text:"Check the card",className:"btn"});a.onchange=e=>j.inputValue.firstName=e.target.value,r.onchange=e=>j.inputValue.cardNumber=e.target.value,a.type="name",a.placeholder="Reader's name",a.value=j.inputValue.firstName,r.type="name",r.placeholder="Card number",r.value=j.inputValue.cardNumber,n.append(t),n.append(a),n.append(r),this._container.append(n),j.showInfo||le.user.cardNumber?(le.user.cardNumber&&(j.inputValue.cardNumber=le.user.cardNumber,a.value=le.user.firstName,r.value=le.user.cardNumber,a.oninput=()=>a.value=le.user.firstName,r.oninput=()=>r.value=le.user.cardNumber),this._container.append(new P(j.inputValue.cardNumber).render()),a.classList.add("findLibrary-text-active"),r.classList.add("findLibrary-text-active")):this._container.append(i),i.onclick=()=>{if(l.has(j.inputValue.cardNumber)){const e=l.get(j.inputValue.cardNumber).firstName;j.inputValue.firstName.toLocaleLowerCase()===e.toLocaleLowerCase()&&(j.showInfo=!0,j.elem.render(),setTimeout((()=>{j.showInfo=!1,j.inputValue={firstName:"",cardNumber:""},j.elem.render()}),1e4))}}}render(){return this._container.innerHTML="",this._createComponent(),this._container}}const I=j,H=class extends t{constructor(e){super("div","buy-library-card-container"),this.book=e}_create(){const t=e({tagName:"h2",text:"Buy a library card"}),n=e({tagName:"div",className:"inputs_container"}),a=e({tagName:"div",className:"warning_container"}),o=e({tagName:"div",className:"content-wrap"}),s=e({tagName:"div",className:"price-container"}),c=e({tagName:"button",className:"btn",text:"Buy"}),u=e({tagName:"h3",text:`$${this.book.price}`}),l=e({tagName:"p",text:"If you are live, work, attend school, or pay property taxes in New York State, you can get a $25 digital library card right now using this online form. Visitors to New York State can also use this form to apply for a temporary card."});c.disabled=!0,s.append(c),s.append(u),a.append(l);const p=new i("CVC","name",(e=>{B(e,(()=>{const t=e.target;if(Number.isNaN(+e.data)||" "===e.data){const e=t.value.length-1;t.value=[...t.value.slice(0,e)].join("")}return 3===t.value.length}))})).render();p.style.width="45px",n.append(new i("Bank card number","name",(e=>{B(e,(()=>{const t=e.target;if(Number.isNaN(+e.data)){const e=t.value.length-1;t.value=[...t.value.slice(0,e)].join("")}return 16===t.value.split(" ").join("").length}))})).render()),n.append(new C("Expiration code","name",(e=>{B(e,(()=>{const t=e.target;if(Number.isNaN(+e.data)||" "===e.data){const e=t.value.length-1;t.value=[...t.value.slice(0,e)].join("")}return Number(t.value)<=31&&2===t.value.length}))}),"name",(e=>{B(e,(()=>{const t=e.target;if(Number.isNaN(+e.data)||" "===e.data){const e=t.value.length-1;t.value=[...t.value.slice(0,e)].join("")}return Number(t.value)<=12&&2===t.value.length}))})).render()),n.append(p),n.append(new i("Cardholder name","name",(e=>B(e,(()=>!!e.target.validity.valid)))).render()),n.append(new i("Postal code","name",(e=>B(e,(()=>!!e.target.validity.valid)))).render()),n.append(new i("City / Town","name",(e=>B(e,(()=>!!e.target.validity.valid)))).render()),n.append(s),o.append(n),o.append(a);const h=this._container.getElementsByTagName("input");n.oninput=()=>{console.log("2"),[...h].every((e=>e.validity.valid))?c.disabled=!1:c.disabled=!0},c.onclick=()=>{le.user.books.push(this.book.id),d(),r.elem.remove(),q.elem.render(),I.elem.render()},this._container.append(t),this._container.append(o)}render(){return this._create(),this._container}},R=class extends t{constructor(e){super("div","book"),this._book=e}_createBook(){const t=le.user.books.includes(this._book.id),n=e({tagName:"h3",className:"headline_book",text:"Staff Picks"}),a=e({tagName:"h3",className:"book-name_book",text:this._book.name}),i=e({tagName:"h3",className:"book-author_book",text:`By ${this._book.author}`}),s=e({tagName:"p",className:"description_book",text:this._book.description}),c=e({tagName:"button",className:"btn",text:t?"Own":"Buy"});t&&(c.classList.add("active-btn"),c.disabled=!0),c.onclick=()=>{le.user.cardNumber?r.run(new H(this._book).render(),"white"):r.run(new te("login").render())};const u=o(this._book.src);u.classList.add("cover"),this._container.append(n),this._container.append(a),this._container.append(i),this._container.append(s),this._container.append(c),this._container.append(u)}render(){return this._createBook(),setTimeout((()=>this._container.classList.toggle("book-active")),100),this._container}};class $ extends t{constructor(){super("div","books-wrapper"),$.elem=Object.assign(this)}render(){return this._container.innerHTML="",S.filter((e=>e.value===V.value)).forEach((e=>this._container.append(new R(e).render()))),this._container}}const q=$;class D extends t{constructor(){super("section","favorites"),D.bookId=[],D.value="winter",this._container.id="favorites"}_createSection(){const t=e({tagName:"form",className:"weather-filter"});t.onchange=e=>{D.value=e.target.value,Array.from(q.elem._container.children).forEach((e=>e.classList.toggle("book-active"))),setTimeout((()=>{q.elem.render()}),100)},["Winter","Spring","Summer","Autumn"].forEach((n=>{const a=e({tagName:"input"}),r=e({tagName:"label",text:n}),i=e({tagName:"div",className:"weather-input-wrapper"});r.setAttribute("for",n.toLocaleLowerCase()),a.setAttribute("type","radio"),a.setAttribute("name","weather"),a.setAttribute("value",n.toLocaleLowerCase()),a.setAttribute("id",n.toLocaleLowerCase()),D.value===a.value&&(a.checked=!0),i.append(a),i.append(r),t.append(i)})),this._container.append(new b("Favorites").render()),this._container.append(e({tagName:"h3",text:"Pick favorites of season"})),this._container.append(t),this._container.append((new q).render())}render(){return this._createSection(),this._container}}const V=D,F=class extends t{constructor({menu:e,headline:t,side:n}){super("div","cafe-menu"),this.textObj={menu:e,headline:t,side:n},"right"===n?this._container.classList.add("right-side"):this._container.classList.add("left-side")}_createHTML(){this._container.append(e({tagName:"h2",text:this.textObj.headline})),this.textObj.menu.forEach((t=>{const[n,a]=t,r=e({tagName:"div",className:"offer-wrapper"}),i=e({tagName:"h3",text:n}),o=e({tagName:"p",text:`$${a}`}),s=e({tagName:"div",className:"line"});r.append(i),r.append(s),r.append(o),this._container.append(r)}))}render(){return this._createHTML(),this._container}},W=class extends t{constructor(){super("section","coffee-shop"),this._container.id="coffee shop"}_createSection(){const t=e({tagName:"p",className:"info_coffee-shop",text:"In our library, we have of cozy coffee shop, welcoming in customers with frothy cappuccinos and friendly conversation.\n    you can get a favorite book and read in coffee shop. Our barista to cook you best coffee, and also you can try desserts from bakery."});this._container.append(new b("Coffee Shop").render()),this._container.append(t);const n=e({tagName:"div",className:"menu-wrapper"});n.append(new F({headline:"Coffee & Tea",menu:[["Cold Brew Coffee",3],["French Press Pot",5],["Espresso",2],["Cappuccino",4],["Hot Tea",2],["Cold Tea",2]],side:"left"}).render()),n.append(new F({headline:"Desserts & Cakes",menu:[["Forest Gateau",16],["Blue Moon",16],["Truffle Cake",15],["Chocolate Cake",18],["Poet’s Dream Cake",16],["Pineapple Cake",14]],side:"right"}).render()),this._container.append(n)}render(){return this._createSection(),this._container}},Y=class extends t{constructor(){super("section","contacts"),this._container.id="contacts"}_createSection(){const t=e({tagName:"div",className:"contacts-wrapper"}),n=e({tagName:"div",className:"contacts-block"}),a=e({tagName:"div",className:"map-block"}),r=new b("Our Contacts").render();r.id="contacts",a.insertAdjacentHTML("beforeend",'<iframe\n  class="google-map"\n  src="https://www.google.com/maps/embed?pb=!1m16!1m12!1m3!1d756.2537853501219!2d-73.99142824656764!3d40.69566417550959!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!2m1!1s286%20Cadman%20Plaza%2C%20New%20York%2C!5e0!3m2!1sru!2spl!4v1693781305754!5m2!1sru!2spl"\n  style="border:0;" allowfullscreen="" loading="lazy"\n  referrerpolicy="no-referrer-when-downgrade">\n</iframe>\n'),n.insertAdjacentHTML("beforeend",'\n      <h4>For All Library Inquiries:</h4>\n      <p>\n        <a href="tel:+6177302370">Please Call (617) 730-2370</a>\n      </p>\n      <p>\n        <a href="tel:+6177302370">For TTY Service, Please Call (617) 730-2370</a>\n      </p>\n      <p>\n        <a href="tel:+6177302385">Putterham Library: (617) 730-2385</a>\n      </p>\n      <h4>Senior Staff</h4>\n      <p><a href="mailto:AmandaHirst@gmail.com">Library Director: <b>Amanda Hirst</b></a></p>\n    '),t.append(n),t.append(a),this._container.append(r),this._container.append(t)}render(){return this._createSection(),this._container}};var z=n(451),U=n.n(z);const G=n.p+"./assets/img/icon_copy.svg",J=class extends t{constructor(){super("div","modal-profile-container")}_createElem(){const t=e({tagName:"div",className:"profile-name-wrap"}),n=e({tagName:"h4",className:"profile-name",text:`${le.user.firstName} ${le.user.lastName}`});t.append(le.user.icon.cloneNode(!0)),t.append(n),this._container.append(t);const a=e({tagName:"div",className:"profile-info-wrap"}),r=e({tagName:"h2",text:"My profile"}),i=e({tagName:"h3",text:"Rented books"}),s=e({tagName:"ul",className:"rented-books-wrap"}),c=e({tagName:"div",className:"card-number-wrap"}),u=e({tagName:"p",text:"Card number"}),l=e({tagName:"p",text:`${le.user.cardNumber}`}),d=o(G);d.onclick=()=>{U().copy(l.innerText),alert("Card number copied to clipboard")},le.user.books.forEach((t=>{const n=(r=t,S.filter((e=>e.id===r))[0]),a=e({tagName:"li",text:`${n.name}, ${n.author}`});var r;s.append(a)})),c.append(u),c.append(l),l.append(d),a.append(r),a.append(new P(le.user.cardNumber).render()),a.append(i),a.append(s),a.append(c),this._container.append(a)}render(){return this._createElem(),this._container}},Q=class extends t{constructor(){super("section","library-cards"),this._container.id="library card"}_createLogin(){const t=e({tagName:"div",className:"login-container_library-cards"}),n=e({tagName:"h3",text:le.user.cardNumber?"Your Library card":"Find your Library card",className:"library-card-text"});return t.append(n),t.append((new I).render()),this._container.append(new b("Digital Library Cards").render()),t}_createInfo(){const t=e({tagName:"div",className:"info-container_library-cards"}),n=e({tagName:"h3",className:"headline-text_info-container"}),a=e({tagName:"p"}),i=e({tagName:"div",className:"btn-container_info"}),o=e({tagName:"button",className:"btn",text:"Sign Up"}),s=e({tagName:"button",className:"btn",text:"Log in"}),c=e({tagName:"button",className:"btn",text:"Profile"});return t.append(n),le.user.cardNumber?(n.innerText="Visit your profile",a.innerText="With a digital library card you get free access to the Library’s wide array of digital resources including e-books, databases, educational resources, and more.",c.onclick=()=>r.run((new J).render()),i.append(c)):(n.innerText="Get a reader card",o.onclick=()=>r.run(new te("register").render()),s.onclick=()=>r.run(new te("login").render()),a.innerText="You will be able to see a reader card after logging into account or you can register a new account",i.append(o),i.append(s)),t.append(a),t.append(i),this._container.append(t),t}render(){const t=e({tagName:"div",className:"library-cards_container"});return t.append(this._createLogin()),t.append(this._createInfo()),this._container.append(t),this._container}};class K extends t{constructor(){super("main","homePage"),K.elem=Object.assign(this)}render(){return this._container.innerHTML="",this._container.append((new T).render()),this._container.append((new L).render()),this._container.append((new V).render()),this._container.append((new W).render()),this._container.append((new Y).render()),this._container.append((new Q).render()),this._container}}const X=K,Z=()=>{document.body.style.opacity=0,setTimeout((()=>{document.body.style="",ce.elem.render(),X.elem.render(),f.elem.render()}),350)};class ee extends t{constructor(t){super("div","modal-login"),this.value=t,this.result={...le.user},this.approveBtn=e({tagName:"button",className:"btn"}),this.headline=e({tagName:"h3",className:"custom-input-headline"}),this.question=e({tagName:"button",className:"modal-login-question"}),this.questionContainer=e({tagName:"div",className:"modal-login-question-container"}),this.offerBtn=e({tagName:"button",className:"offerBtn"})}_saveValidRes(e,t){e.target.validity.valid&&e.target.value&&""!==e.target.value?(this.result[t]=e.target.value,e.target.classList.remove("invalid-custom-input")):(this.result[t]=void 0,e.target.classList.add("invalid-custom-input"))}removePopup(){r.elem.remove(),this.result=new c}login(){this.headline.innerText="Login",this.question.innerText="Don’t have an account?",this.offerBtn.innerText="Register",this.approveBtn.innerText="Log In",this._container.append(this.headline),this._container.append(new i("E-mail or readers card","name",(e=>{this._saveValidRes(e,"cardNumber")})).render()),this._container.append(new i("Password","password",(e=>{this._saveValidRes(e,"password")}),8).render()),this.offerBtn.onclick=()=>{this.removePopup(),r.run(new ee("register").render())},this.approveBtn.onclick=()=>{const e=(e=>{if(l.has(e))return l.get(e);const t=Object.values(Object.fromEntries(l)),[n]=t.filter((t=>t.email===e));return n?l.get(n.cardNumber):void 0})(this.result.cardNumber);e&&e.password===this.result.password?(e.visits+=1,l.set(e.cardNumber,e),le.user=new c(l.get(e.cardNumber)),d(),this.removePopup(),Z()):alert("User not found")}}register(){this.headline.innerText="Register",this.question.innerText="Already have an account?",this.offerBtn.innerText="Login",this.approveBtn.innerText="Sign Up",this._container.append(this.headline),this._container.append(new i("First name","name",(e=>{this._saveValidRes(e,"firstName")})).render()),this._container.append(new i("Last name","name",(e=>{this._saveValidRes(e,"lastName")})).render()),this._container.append(new i("E-mail","email",(e=>{this._saveValidRes(e,"email")})).render()),this._container.append(new i("Password","password",(e=>{this._saveValidRes(e,"password")}),8).render()),this.approveBtn.onclick=()=>{this.result.cardNumber=Math.random().toString(16).substring(2,11),le.user=new c(this.result),l.set(this.result.cardNumber,this.result),d(),Z(),this.removePopup()},this.offerBtn.onclick=()=>{this.removePopup(),r.run(new ee("login").render())}}_validInputs(){const e=[...this._container.querySelectorAll("input")].every((e=>e.validity.valid)),t=Object.values(this.result).every((e=>void 0!==e&&""!==e));"register"===this.value&&(this.approveBtn.disabled=!e||!t),"login"===this.value&&(this.result.password&&this.result.cardNumber?this.approveBtn.disabled=!1:this.approveBtn.disabled=!0)}_createElem(){this.approveBtn.disabled=!0,this._container.append(this.approveBtn),this._container.append(this.questionContainer),this.questionContainer.append(this.question),this.questionContainer.append(this.offerBtn),this._container.onchange=()=>this._validInputs(),this._container.oninput=()=>this._validInputs()}render(){return"register"===this.value&&this.register(),"login"===this.value&&this.login(),this._createElem(),this._container}}const te=ee;class ne extends t{constructor(){super("div","drop-menu"),ne.open=!1,ne.elem=Object.assign(this),this.header=e({tagName:"h3",text:le.user.cardNumber||"Profile"}),this.logInBtn=e({tagName:"button",className:"logIn-btn",text:"Log In"}),this.logOut=e({tagName:"button",className:"logIn-out",text:"Log Out"}),this.myProfileBtn=e({tagName:"button",className:"my-profile-btn",text:"My profile"}),this.registerBtn=e({tagName:"button",className:"register-btn",text:"Register"}),this.myProfileBtn=e({tagName:"button",className:"my-profile-btn",text:"My profile"}),this.logOutBtn=e({tagName:"button",className:"log-out-btn",text:"Log Out"})}closeMenu(){ne.open=!1,this._container.style.opacity=0,setTimeout((()=>{this._container.remove()}),100)}_createMenu(){this.logInBtn.onclick=()=>{r.run(new te("login").render()),this.closeMenu()},this.registerBtn.onclick=()=>{r.run(new te("register").render()),this.closeMenu()},this.logOut.onclick=()=>{le.user=new c,Z(),this.closeMenu()},this.myProfileBtn.onclick=()=>{r.run((new J).render()),this.closeMenu()},this._container.append(this.header),le.user.cardNumber?(this.header.style.fontSize="11px",this._container.append(this.myProfileBtn),this._container.append(this.logOut)):(this._container.append(this.logInBtn),this._container.append(this.registerBtn))}render(){return this._container.innerHTML="",this._container.style.opacity=0,this._createMenu(),setTimeout((()=>{this._container.style.opacity=""}),100),this._container}}const ae=ne;class re extends t{constructor(t){super("div","burger-wrapper"),re.open=!1,re.elem=Object.assign(this),this.links=t.map((e=>e.cloneNode(!0))),this.button=e({tagName:"button",className:"burger-btn"}),this.burger=e({tagName:"div",className:"burger"})}_createBurger(){this.links.forEach((e=>this.burger.append(e))),this._container.append(this.burger),this.button.onclick=()=>{ae.open&&(ae.elem._container.remove(),ae.open=!1),re.open?(this.closeBurger(),document.body.onclick=null):(this.openBurger(),setTimeout((()=>{document.body.onclick=()=>{re.open&&this.closeBurger(),document.body.onclick=null}})))}}openBurger(){this.burger.classList.add("burger-active"),this.button.classList.add("burger-btn-active"),re.open=!0}closeBurger(){this.burger.classList.remove("burger-active"),this.button.classList.remove("burger-btn-active"),re.open=!1}render(){return this._createBurger(),{burgerBtn:this.button,burgerContainer:this._container}}}const ie=re,oe=class extends t{constructor(e){super("nav"),this.links=e.map((e=>e.cloneNode(!0)))}render(){const t=e({tagName:"ul"});return this.links.forEach((e=>t.append(e))),this._container.append(t),this._container}};class se extends t{constructor(){super("header"),se.elem=Object.assign(this),se.textObject={headline:"Brooklyn Public Library",nLink:["About","Favorites","Coffee shop","Contacts","Library Card"].map((t=>{const n=e({tagName:"li"}),a=e({tagName:"a",text:t});return a.href=`#${t.toLocaleLowerCase()}`,n.append(a),n}))}}_createHeader(){const t=e({tagName:"section",className:"header_container"}),n=e({tagName:"div",className:"nav_wrapper"}),a=e({tagName:"h1",text:se.textObject.headline}),r=e({tagName:"button",className:"profile-btn"}),i=e({tagName:"div",className:"profile-btn-wrap"}),o=new oe(se.textObject.nLink).render(),{burgerBtn:s,burgerContainer:c}=new ie(se.textObject.nLink).render();le.user.cardNumber&&i.setAttribute("title",`${le.user.firstName} ${le.user.lastName}`),r.onclick=()=>{ie.open&&ie.elem.closeBurger(),ae.open?(ae.elem.closeMenu(),document.body.onclick=null):(i.append((new ae).render()),ae.open=!0,document.body.onclick=null,setTimeout((()=>{document.body.onclick=e=>{e.target!==ae.elem._container&&e.target.parentElement!==ae.elem._container&&(ae.elem.closeMenu(),document.body.onclick=null)}})))},r.append(le.user.icon),i.append(r),t.append(a),t.append(n),t.append(c),n.append(o),n.append(i),n.append(s),this._container.append(t)}render(){return this._container.innerHTML="",this._createHeader(),this._container}}const ce=se;class ue{constructor(){ue.user=new c,this._container=document.body,this._elements={header:(new ce).render(),homePage:(new X).render(),footer:(new f).render()}}render(){this._container.append(this._elements.header),this._container.append(this._elements.homePage),this._container.append(this._elements.footer)}}const le=ue;(new le).render()})()})();